{"ast":null,"code":"function cov_20oob0akmi() {\n  var path = \"C:\\\\Users\\\\Sviatoslav Oliinyk\\\\Desktop\\\\NULPSecondCourse\\\\SecondSemestr\\\\WEB\\\\angular-web-app\\\\src\\\\app\\\\nav\\\\nav.component.ts\";\n  var hash = \"36678a6de7112c369a8199f32a6028ca4c5b361e\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"C:\\\\Users\\\\Sviatoslav Oliinyk\\\\Desktop\\\\NULPSecondCourse\\\\SecondSemestr\\\\WEB\\\\angular-web-app\\\\src\\\\app\\\\nav\\\\nav.component.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 10,\n          column: 19\n        },\n        end: {\n          line: 58,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 12,\n          column: 8\n        },\n        end: {\n          line: 12,\n          column: 25\n        }\n      },\n      \"2\": {\n        start: {\n          line: 13,\n          column: 8\n        },\n        end: {\n          line: 13,\n          column: 29\n        }\n      },\n      \"3\": {\n        start: {\n          line: 14,\n          column: 8\n        },\n        end: {\n          line: 14,\n          column: 29\n        }\n      },\n      \"4\": {\n        start: {\n          line: 15,\n          column: 8\n        },\n        end: {\n          line: 15,\n          column: 25\n        }\n      },\n      \"5\": {\n        start: {\n          line: 16,\n          column: 8\n        },\n        end: {\n          line: 16,\n          column: 43\n        }\n      },\n      \"6\": {\n        start: {\n          line: 17,\n          column: 8\n        },\n        end: {\n          line: 17,\n          column: 35\n        }\n      },\n      \"7\": {\n        start: {\n          line: 18,\n          column: 8\n        },\n        end: {\n          line: 18,\n          column: 38\n        }\n      },\n      \"8\": {\n        start: {\n          line: 19,\n          column: 8\n        },\n        end: {\n          line: 19,\n          column: 58\n        }\n      },\n      \"9\": {\n        start: {\n          line: 22,\n          column: 8\n        },\n        end: {\n          line: 24,\n          column: 11\n        }\n      },\n      \"10\": {\n        start: {\n          line: 23,\n          column: 12\n        },\n        end: {\n          line: 23,\n          column: 38\n        }\n      },\n      \"11\": {\n        start: {\n          line: 25,\n          column: 8\n        },\n        end: {\n          line: 27,\n          column: 11\n        }\n      },\n      \"12\": {\n        start: {\n          line: 26,\n          column: 12\n        },\n        end: {\n          line: 26,\n          column: 44\n        }\n      },\n      \"13\": {\n        start: {\n          line: 30,\n          column: 8\n        },\n        end: {\n          line: 32,\n          column: 9\n        }\n      },\n      \"14\": {\n        start: {\n          line: 31,\n          column: 12\n        },\n        end: {\n          line: 31,\n          column: 80\n        }\n      },\n      \"15\": {\n        start: {\n          line: 34,\n          column: 8\n        },\n        end: {\n          line: 34,\n          column: 27\n        }\n      },\n      \"16\": {\n        start: {\n          line: 37,\n          column: 8\n        },\n        end: {\n          line: 50,\n          column: 11\n        }\n      },\n      \"17\": {\n        start: {\n          line: 41,\n          column: 16\n        },\n        end: {\n          line: 41,\n          column: 74\n        }\n      },\n      \"18\": {\n        start: {\n          line: 42,\n          column: 16\n        },\n        end: {\n          line: 42,\n          column: 57\n        }\n      },\n      \"19\": {\n        start: {\n          line: 43,\n          column: 16\n        },\n        end: {\n          line: 43,\n          column: 57\n        }\n      },\n      \"20\": {\n        start: {\n          line: 46,\n          column: 16\n        },\n        end: {\n          line: 48,\n          column: 17\n        }\n      },\n      \"21\": {\n        start: {\n          line: 47,\n          column: 20\n        },\n        end: {\n          line: 47,\n          column: 60\n        }\n      },\n      \"22\": {\n        start: {\n          line: 53,\n          column: 8\n        },\n        end: {\n          line: 53,\n          column: 47\n        }\n      },\n      \"23\": {\n        start: {\n          line: 54,\n          column: 8\n        },\n        end: {\n          line: 54,\n          column: 40\n        }\n      },\n      \"24\": {\n        start: {\n          line: 55,\n          column: 8\n        },\n        end: {\n          line: 55,\n          column: 47\n        }\n      },\n      \"25\": {\n        start: {\n          line: 56,\n          column: 8\n        },\n        end: {\n          line: 56,\n          column: 36\n        }\n      },\n      \"26\": {\n        start: {\n          line: 59,\n          column: 0\n        },\n        end: {\n          line: 64,\n          column: 2\n        }\n      },\n      \"27\": {\n        start: {\n          line: 59,\n          column: 36\n        },\n        end: {\n          line: 64,\n          column: 1\n        }\n      },\n      \"28\": {\n        start: {\n          line: 65,\n          column: 0\n        },\n        end: {\n          line: 71,\n          column: 17\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 11,\n            column: 4\n          },\n          end: {\n            line: 11,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 11,\n            column: 44\n          },\n          end: {\n            line: 20,\n            column: 5\n          }\n        },\n        line: 11\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 21,\n            column: 4\n          },\n          end: {\n            line: 21,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 21,\n            column: 15\n          },\n          end: {\n            line: 28,\n            column: 5\n          }\n        },\n        line: 21\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 22,\n            column: 45\n          },\n          end: {\n            line: 22,\n            column: 46\n          }\n        },\n        loc: {\n          start: {\n            line: 22,\n            column: 55\n          },\n          end: {\n            line: 24,\n            column: 9\n          }\n        },\n        line: 22\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 25,\n            column: 48\n          },\n          end: {\n            line: 25,\n            column: 49\n          }\n        },\n        loc: {\n          start: {\n            line: 25,\n            column: 61\n          },\n          end: {\n            line: 27,\n            column: 9\n          }\n        },\n        line: 25\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 29,\n            column: 4\n          },\n          end: {\n            line: 29,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 29,\n            column: 16\n          },\n          end: {\n            line: 35,\n            column: 5\n          }\n        },\n        line: 29\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 36,\n            column: 4\n          },\n          end: {\n            line: 36,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 36,\n            column: 18\n          },\n          end: {\n            line: 51,\n            column: 5\n          }\n        },\n        line: 36\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 40,\n            column: 18\n          },\n          end: {\n            line: 40,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 40,\n            column: 28\n          },\n          end: {\n            line: 44,\n            column: 13\n          }\n        },\n        line: 40\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 45,\n            column: 19\n          },\n          end: {\n            line: 45,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 45,\n            column: 28\n          },\n          end: {\n            line: 49,\n            column: 13\n          }\n        },\n        line: 45\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 52,\n            column: 4\n          },\n          end: {\n            line: 52,\n            column: 5\n          }\n        },\n        loc: {\n          start: {\n            line: 52,\n            column: 13\n          },\n          end: {\n            line: 57,\n            column: 5\n          }\n        },\n        line: 52\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 59,\n            column: 30\n          },\n          end: {\n            line: 59,\n            column: 31\n          }\n        },\n        loc: {\n          start: {\n            line: 59,\n            column: 36\n          },\n          end: {\n            line: 64,\n            column: 1\n          }\n        },\n        line: 59\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 30,\n            column: 8\n          },\n          end: {\n            line: 32,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 30,\n            column: 8\n          },\n          end: {\n            line: 32,\n            column: 9\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 30\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 46,\n            column: 16\n          },\n          end: {\n            line: 48,\n            column: 17\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 46,\n            column: 16\n          },\n          end: {\n            line: 48,\n            column: 17\n          }\n        }, {\n          start: {\n            line: undefined,\n            column: undefined\n          },\n          end: {\n            line: undefined,\n            column: undefined\n          }\n        }],\n        line: 46\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0]\n    },\n    inputSourceMap: {\n      version: 3,\n      file: \"nav.component.js\",\n      sourceRoot: \"\",\n      sources: [\"C:\\\\Users\\\\Sviatoslav Oliinyk\\\\Desktop\\\\NULPSecondCourse\\\\SecondSemestr\\\\WEB\\\\angular-web-app\\\\src\\\\app\\\\nav\\\\nav.component.ts\"],\n      names: [],\n      mappings: \"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\",\n      sourcesContent: [\"import {Component, OnInit} from '@angular/core';\\nimport {AuthorizationService} from \\\"../services/authorization.service\\\";\\nimport {CookieService} from \\\"../services/cookie.service\\\";\\nimport {Router} from \\\"@angular/router\\\";\\nimport {EmitterService} from \\\"../services/emitter.service\\\";\\nimport {HttpClient} from \\\"@angular/common/http\\\";\\n\\n@Component({\\n  selector: 'app-nav',\\n  templateUrl: './nav.component.html',\\n  styleUrls: ['./nav.component.css']\\n})\\nexport class NavComponent implements OnInit {\\n  API: string = 'http://localhost:8080';\\n  authenticated: boolean = false;\\n  transfer_history: boolean = false;\\n\\n  constructor(private auth: AuthorizationService,\\n              private cookie: CookieService,\\n              private router: Router,\\n              private http: HttpClient,) {\\n  }\\n\\n  ngOnInit(): void {\\n    EmitterService.authEmitter.subscribe(\\n      (auth: boolean) => {\\n        this.authenticated = auth;\\n      }\\n    )\\n\\n    EmitterService.historyEmitter.subscribe(\\n      (history: boolean) => {\\n        this.transfer_history = history;\\n      }\\n    )\\n  }\\n\\n  checkCred(){\\n    if(this.cookie.getCookie('credentials')){\\n      this.credentials = JSON.parse(this.cookie.getCookie('credentials'));\\n    };\\n    this.checkWallet()\\n  }\\n\\n  credentials: {\\n    password: string;\\n    username: string;\\n  } = {password: '', username: ''}\\n\\n  checkWallet(): void {\\n    this.http.get(this.API + '/api/v1/wallet', {\\n      headers: { \\\"Authorization\\\": \\\"Basic \\\" + btoa(this.credentials.username + ':' + this.credentials.password)}\\n    }).subscribe({\\n      next: (data)=>{\\n        this.cookie.setCookie('wallet',JSON.stringify(data), 60);\\n        EmitterService.walletEmitter.emit(false);\\n        EmitterService.historyEmitter.emit(true);\\n      },\\n      error: (err) => {\\n        if(err.status === 404){\\n          EmitterService.walletEmitter.emit(true);\\n        }\\n      }\\n    });\\n  }\\n\\n  logout(): void {\\n    this.cookie.clearCookie('credentials');\\n    this.cookie.clearCookie('user');\\n    EmitterService.authEmitter.emit(false);\\n    this.router.navigate(['/']);\\n  }\\n}\\n\"]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"36678a6de7112c369a8199f32a6028ca4c5b361e\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n  {\n    // @ts-ignore\n    cov_20oob0akmi = function () {\n      return actualCoverage;\n    };\n  }\n  return actualCoverage;\n}\n\ncov_20oob0akmi();\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./nav.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./nav.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { AuthorizationService } from \"../services/authorization.service\";\nimport { CookieService } from \"../services/cookie.service\";\nimport { Router } from \"@angular/router\";\nimport { EmitterService } from \"../services/emitter.service\";\nimport { HttpClient } from \"@angular/common/http\";\ncov_20oob0akmi().s[0]++;\nlet NavComponent = class NavComponent {\n  constructor(auth, cookie, router, http) {\n    cov_20oob0akmi().f[0]++;\n    cov_20oob0akmi().s[1]++;\n    this.auth = auth;\n    cov_20oob0akmi().s[2]++;\n    this.cookie = cookie;\n    cov_20oob0akmi().s[3]++;\n    this.router = router;\n    cov_20oob0akmi().s[4]++;\n    this.http = http;\n    cov_20oob0akmi().s[5]++;\n    this.API = 'http://localhost:8080';\n    cov_20oob0akmi().s[6]++;\n    this.authenticated = false;\n    cov_20oob0akmi().s[7]++;\n    this.transfer_history = false;\n    cov_20oob0akmi().s[8]++;\n    this.credentials = {\n      password: '',\n      username: ''\n    };\n  }\n\n  ngOnInit() {\n    cov_20oob0akmi().f[1]++;\n    cov_20oob0akmi().s[9]++;\n    EmitterService.authEmitter.subscribe(auth => {\n      cov_20oob0akmi().f[2]++;\n      cov_20oob0akmi().s[10]++;\n      this.authenticated = auth;\n    });\n    cov_20oob0akmi().s[11]++;\n    EmitterService.historyEmitter.subscribe(history => {\n      cov_20oob0akmi().f[3]++;\n      cov_20oob0akmi().s[12]++;\n      this.transfer_history = history;\n    });\n  }\n\n  checkCred() {\n    cov_20oob0akmi().f[4]++;\n    cov_20oob0akmi().s[13]++;\n\n    if (this.cookie.getCookie('credentials')) {\n      cov_20oob0akmi().b[0][0]++;\n      cov_20oob0akmi().s[14]++;\n      this.credentials = JSON.parse(this.cookie.getCookie('credentials'));\n    } else {\n      cov_20oob0akmi().b[0][1]++;\n    }\n\n    ;\n    cov_20oob0akmi().s[15]++;\n    this.checkWallet();\n  }\n\n  checkWallet() {\n    cov_20oob0akmi().f[5]++;\n    cov_20oob0akmi().s[16]++;\n    this.http.get(this.API + '/api/v1/wallet', {\n      headers: {\n        \"Authorization\": \"Basic \" + btoa(this.credentials.username + ':' + this.credentials.password)\n      }\n    }).subscribe({\n      next: data => {\n        cov_20oob0akmi().f[6]++;\n        cov_20oob0akmi().s[17]++;\n        this.cookie.setCookie('wallet', JSON.stringify(data), 60);\n        cov_20oob0akmi().s[18]++;\n        EmitterService.walletEmitter.emit(false);\n        cov_20oob0akmi().s[19]++;\n        EmitterService.historyEmitter.emit(true);\n      },\n      error: err => {\n        cov_20oob0akmi().f[7]++;\n        cov_20oob0akmi().s[20]++;\n\n        if (err.status === 404) {\n          cov_20oob0akmi().b[1][0]++;\n          cov_20oob0akmi().s[21]++;\n          EmitterService.walletEmitter.emit(true);\n        } else {\n          cov_20oob0akmi().b[1][1]++;\n        }\n      }\n    });\n  }\n\n  logout() {\n    cov_20oob0akmi().f[8]++;\n    cov_20oob0akmi().s[22]++;\n    this.cookie.clearCookie('credentials');\n    cov_20oob0akmi().s[23]++;\n    this.cookie.clearCookie('user');\n    cov_20oob0akmi().s[24]++;\n    EmitterService.authEmitter.emit(false);\n    cov_20oob0akmi().s[25]++;\n    this.router.navigate(['/']);\n  }\n\n};\ncov_20oob0akmi().s[26]++;\n\nNavComponent.ctorParameters = () => {\n  cov_20oob0akmi().f[9]++;\n  cov_20oob0akmi().s[27]++;\n  return [{\n    type: AuthorizationService\n  }, {\n    type: CookieService\n  }, {\n    type: Router\n  }, {\n    type: HttpClient\n  }];\n};\n\ncov_20oob0akmi().s[28]++;\nNavComponent = __decorate([Component({\n  selector: 'app-nav',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], NavComponent);\nexport { NavComponent };","map":{"version":3,"sources":["C:/Users/Sviatoslav Oliinyk/Desktop/NULPSecondCourse/SecondSemestr/WEB/angular-web-app/src/app/nav/nav.component.ts"],"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","AuthorizationService","CookieService","Router","EmitterService","HttpClient","NavComponent","constructor","auth","cookie","router","http","API","authenticated","transfer_history","credentials","password","username","ngOnInit","authEmitter","subscribe","historyEmitter","history","checkCred","getCookie","JSON","parse","checkWallet","get","headers","btoa","next","data","setCookie","stringify","walletEmitter","emit","error","err","status","logout","clearCookie","navigate","ctorParameters","type","selector","template","styles"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport __NG_CLI_RESOURCE__0 from \"./nav.component.html?ngResource\";\r\nimport __NG_CLI_RESOURCE__1 from \"./nav.component.css?ngResource\";\r\nimport { Component } from '@angular/core';\r\nimport { AuthorizationService } from \"../services/authorization.service\";\r\nimport { CookieService } from \"../services/cookie.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { EmitterService } from \"../services/emitter.service\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nlet NavComponent = class NavComponent {\r\n    constructor(auth, cookie, router, http) {\r\n        this.auth = auth;\r\n        this.cookie = cookie;\r\n        this.router = router;\r\n        this.http = http;\r\n        this.API = 'http://localhost:8080';\r\n        this.authenticated = false;\r\n        this.transfer_history = false;\r\n        this.credentials = { password: '', username: '' };\r\n    }\r\n    ngOnInit() {\r\n        EmitterService.authEmitter.subscribe((auth) => {\r\n            this.authenticated = auth;\r\n        });\r\n        EmitterService.historyEmitter.subscribe((history) => {\r\n            this.transfer_history = history;\r\n        });\r\n    }\r\n    checkCred() {\r\n        if (this.cookie.getCookie('credentials')) {\r\n            this.credentials = JSON.parse(this.cookie.getCookie('credentials'));\r\n        }\r\n        ;\r\n        this.checkWallet();\r\n    }\r\n    checkWallet() {\r\n        this.http.get(this.API + '/api/v1/wallet', {\r\n            headers: { \"Authorization\": \"Basic \" + btoa(this.credentials.username + ':' + this.credentials.password) }\r\n        }).subscribe({\r\n            next: (data) => {\r\n                this.cookie.setCookie('wallet', JSON.stringify(data), 60);\r\n                EmitterService.walletEmitter.emit(false);\r\n                EmitterService.historyEmitter.emit(true);\r\n            },\r\n            error: (err) => {\r\n                if (err.status === 404) {\r\n                    EmitterService.walletEmitter.emit(true);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    logout() {\r\n        this.cookie.clearCookie('credentials');\r\n        this.cookie.clearCookie('user');\r\n        EmitterService.authEmitter.emit(false);\r\n        this.router.navigate(['/']);\r\n    }\r\n};\r\nNavComponent.ctorParameters = () => [\r\n    { type: AuthorizationService },\r\n    { type: CookieService },\r\n    { type: Router },\r\n    { type: HttpClient }\r\n];\r\nNavComponent = __decorate([\r\n    Component({\r\n        selector: 'app-nav',\r\n        template: __NG_CLI_RESOURCE__0,\r\n        styles: [__NG_CLI_RESOURCE__1]\r\n    })\r\n], NavComponent);\r\nexport { NavComponent };\r\n"]},"metadata":{},"sourceType":"module"}